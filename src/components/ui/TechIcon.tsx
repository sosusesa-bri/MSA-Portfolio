import * as LucideIcons from "lucide-react";

export type TechIconType = {
  name: string;
  path: React.ReactNode; // Changed to ReactNode to support multi-path SVGs
  viewBox?: string;
};

// Custom SVG paths for brand icons with official colors
export const BRAND_ICONS: Record<string, TechIconType> = {
  React: {
    name: "React",
    viewBox: "0 0 24 24",
    path: (
      <g fill="none">
        <circle cx="12" cy="12" r="2" fill="#61DAFB" />
        <g stroke="#61DAFB" strokeWidth="1">
          <ellipse cx="12" cy="12" rx="10" ry="4.5" />
          <ellipse
            cx="12"
            cy="12"
            rx="10"
            ry="4.5"
            transform="rotate(60 12 12)"
          />
          <ellipse
            cx="12"
            cy="12"
            rx="10"
            ry="4.5"
            transform="rotate(120 12 12)"
          />
        </g>
      </g>
    ),
  },
  "Next.js": {
    name: "Next.js",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="var(--text-primary)"
        fillRule="evenodd"
        d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.747 16.353l-6.22-8.316.012 3.968c0 .265-.213.479-.479.479-.265 0-.479-.214-.479-.479V8.047c0-.285.25-.5.525-.453.11.019.213.072.29.155l.024.03 5.464 7.29-.012-3.957c0-.265.213-.479.479-.479.264 0 .479.214.479.479v6.059c0 .285-.25.5-.525.454-.108-.019-.212-.073-.289-.155l-.025-.03.003.013a7.973 7.973 0 01-4.706 1.523c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8a7.962 7.962 0 01-1.25 4.306zM12 3.824a8.176 8.176 0 00-6.729 3.582l8.834 11.554A8.148 8.148 0 0018.824 12c.003-4.512-3.653-8.176-7.824-8.176h1z"
        clipRule="evenodd"
      />
    ),
  },
  TypeScript: {
    name: "TypeScript",
    viewBox: "0 0 24 24",
    path: (
      <g>
        <path fill="#3178C6" d="M24 0H0v24h24V0z" />
        <path
          fill="#FFF"
          d="M17.363 10.428h-3.234v7.505c0 2.217 1.843 2.185 2.502 2.126.5-.044.975-.183 1.346-.403l.534 2.227c-.896.48-2.008.73-3.084.665-1.928-.11-4.145-1.12-4.145-4.825v-7.294h-1.93V7.747h1.93V3.88l2.946-1.76v5.636h3.135v2.673zm4.569-2.903c1.78.9 1.78 3.298.058 4.296-1.116.643-2.18.528-3.176.32v3.012c1 .075 1.597.027 1.954-.117.472-.187.697-.563.697-1.154 0-1.884 2.68-2.112 2.68.398 0 2.073-1.637 3.553-4.045 3.553-2.3 0-4.125-1.393-4.125-3.86 0-3.322 3.193-4.12 4.148-4.323.861-.177 1.055-.563 1.055-1.07 0-.712-.524-1.24-1.78-1.24-1.285 0-1.768.618-2.023 1.4L15.356 7.63c.66-1.93 2.64-3.064 4.888-2.95 2.158.113 4.093 1.397 3.688 2.845z"
        />
      </g>
    ),
  },
  "Tailwind CSS": {
    name: "Tailwind CSS",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="#38B2AC"
        d="M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624C7.666,17.818,9.027,19.2,12.001,19.2c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624C10.337,13.382,8.976,12,6.001,12z"
      />
    ),
  },
  "Node.js": {
    name: "Node.js",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="#339933"
        d="M12 2l-9.5 5.5v11l9.5 5.5 9.5-5.5v-11L12 2zm1.25 10.75L12 12v3.75l-4-2.25V9l3.25-1.75 4 2.25V14l-2 1V12.75z"
      />
    ),
  },
  Python: {
    name: "Python",
    viewBox: "0 0 24 24",
    path: (
      <g>
        <path
          fill="#3776AB"
          d="M11.96 0c-1.59 0-3.32.22-4.55.75-2.02.86-2.67 2.38-2.67 4.14v2.79H1.47v2.66h2.24l.02.04v5.27c0 2.24.96 3.6 4.3 3.6h2.57v-2.66H9.19c-1.19 0-1.42-.4-1.42-1.5v-3.79h6.81V7.53c0-2.31-1.35-3.69-4.28-3.69H9.42V1.9h2.54c1.19 0 1.42.4 1.42 1.5v.72h2.61v-.8c0-2.36-1.55-3.52-4.04-3.52zM8.32 1.25a.96.96 0 11-.01 1.93.96.96 0 01.01-1.93z"
        />
        <path
          fill="#FFD43B"
          d="M15.22 4.3v2.85h-6.8v3.7c0 1.21.2 1.62 1.48 1.62h1.16v3.77c0 .17.06.33.22.45v.02c.86 1.83 2.76 2.33 4.67 2.33 1.59 0 2.68-.17 3.59-.44l-.2-2.52-1.63.07c-1.12 0-1.35-.38-1.35-1.46v-3.8h3.18v-2.67h-3.18V5.42c0-2.19-.8-3.52-4.14-3.52H9.51v2.4h2.7v.01c2.19 0 2.92 1.27 2.92 3.18H15.22zM16.54 21.08a.96.96 1 11.01-1.92.96.96 0 01-.01 1.92z"
        />
      </g>
    ),
  },
  PostgreSQL: {
    name: "PostgreSQL",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="#336791"
        d="M12.9 2C7.3 2 2.8 6.5 2.8 12.1c0 5.6 4.5 10.1 10.1 10.1 5.6 0 10.1-4.5 10.1-10.1C23 6.5 18.5 2 12.9 2zM12.9 20c-4.4 0-7.9-3.6-7.9-7.9 0-4.4 3.6-7.9 7.9-7.9 4.4 0 7.9 3.6 7.9 7.9 0 4.4-3.6 7.9-7.9 7.9zM7.5 12c.3 0 .5-.2.5-.5s-.2-.5-.5-.5-.5.2-.5.5.2.5.5.5zM9.5 9c.3 0 .5-.2.5-.5S9.8 8 9.5 8s-.5.2-.5.5.2.5.5.5zM15.5 15c.3 0 .5-.2.5-.5s-.2-.5-.5-.5-.5.2-.5.5.2.5.5.5z"
      />
    ),
  },
  MongoDB: {
    name: "MongoDB",
    viewBox: "0 0 24 24",
    path: (
      <g>
        <path fill="#47A248" d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
        <path fill="#3FA037" d="M11 11.5l1-6.5 1 6.5-1 8.5z" />
      </g>
    ),
  },
  Docker: {
    name: "Docker",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="#2496ED"
        d="M13.98 0c-1.84.45-3.34 1.53-4.38 3.15-.3.46-.38.82-.24 1.34.05.18.17.48.24.6.09.15.15.17.29.1 1.48-.73 3.05-1.12 4.7-1.14 1.94-.03 3.73.57 5.25 1.74.88.68 1.54 1.5 1.94 2.45.1.24.16.29.34.29h.16c.55 0 .78.07 1.05.3.16.14.3.36.41.67.14.39.11.97-.08 1.56-.29.89-.78 1.68-1.5 2.37-1.48 1.4-3.5 2.22-5.69 2.29-1.29.04-2.48-.21-3.6-.74-.43-.2-.88-.41-1-.46-.36-.14-.54-.12-.76.08-.2.17-.22.25-.19.66.02.32.09.6.21.85.24.47.6.85 1.14 1.18.78.48 1.6.76 2.52.85 1.7.16 3.42-.31 4.79-1.32.6-.44 1.11-.97 1.49-1.52.26-.39.54-.92.65-1.25.04-.13.1-.21.2-.26.24-.1.8.06 1 .28.2.22.21.41.05 1.05-.2.83-.57 1.56-1.13 2.19-1.27 1.43-3.1 2.38-5.18 2.68-.69.1-1.38.12-2.07.06-2.14-.19-3.95-1.23-5.26-3.03-.4-.54-.62-.97-.73-1.42-.16-.62-.16-1.26-.06-1.85.16-.9.64-1.7 1.43-2.39.42-.37.94-.71 1.08-.71.05 0 .1-.04.1-.1s-.07-.15-.17-.22c-.66-.44-1.12-1.07-1.33-1.82-.07-.26-.32-.26-.81 0-.91.48-1.74 1.14-2.43 1.93-.41.47-.69.87-.93 1.34-.33.64-.18 1.25.43 1.78.36.31.78.58 1.05.67.13.04.22.11.23.18.04.18-.32.41-.53.34-.36-.12-.87-.45-1.24-.81-.66-.63-.98-1.41-.95-2.28.02-.45.09-.76.24-1.12.3-.72.84-1.4 1.52-1.92.51-.39 1.11-.72 1.5-.83.18-.05.18-.06.12-.22-.12-.34-.14-.76-.04-1.22.28-1.23.97-2.38 2-3.32C8.75 1.83 10.23.86 12 .39c.65-.17 1.39-.28 1.98-.29zm-2.06 13.93c.12-.13.36-.08.38.08 0 .04-.03.08-.07.09-.13.04-.26-.02-.31-.17zm2.4 2.89c.04-.08.13-.1.21-.04.09.06.07.2-.03.22-.09.02-.21-.08-.18-.18z"
      />
    ),
  },
  Git: {
    name: "Git",
    viewBox: "0 0 24 24",
    path: (
      <path
        fill="#F05032"
        d="M2.6 10.59L8.38 4.8l1.69 -1.7c0.24 -0.23 0.57 -0.23 0.81 0l1.17 1.18c0.23 0.23 0.23 0.6 0 0.83L6.41 10.74c-0.11 0.11 -0.26 0.17 -0.41 0.17 -0.16 0 -0.31 -0.06 -0.42 -0.17L2.6 10.59zM15.34 6.6l-5.32 5.32c-0.23 0.23 -0.6 0.23 -0.83 0l-1.18 -1.17c-0.23 -0.24 -0.23 -0.58 0 -0.82l5.32 -5.31c0.23 -0.23 0.61 -0.23 0.84 0l1.17 1.18c0.23 0.22 0.23 0.58 0 0.8zM21.4 12.6l-8.58 8.58c-0.23 0.23 -0.58 0.23 -0.81 0l-1.19 -1.15c-0.21 -0.24 -0.21 -0.61 0 -0.85l8.61 -8.57c0.23 -0.24 0.57 -0.24 0.8 0l1.17 1.15c0.23 0.25 0.23 0.62 0 0.84z"
      />
    ),
  },
  AWS: {
    name: "AWS",
    viewBox: "0 0 24 24",
    path: (
      <g>
        <path
          fill="#232F3E"
          d="M16.94 9.17c-1.24-.13-2.61.12-3.56.9-.38.29-.62.72-.62 1.25v.02c0 .94.75 1.58 1.63 1.58 1.12 0 1.95-.56 2.55-1.46V9.17zm1.88 4.29V9.13c0-2.3-1.21-3.6-3.41-3.6-1.57 0-2.92.56-3.69 1.6l1.24 1.3c.31-.48.91-.77 1.56-.77.89 0 1.25.46 1.25 1.48v.5c-.56.12-1.24.18-1.74.24-2.11.23-3.61 1.05-3.61 3.2 0 1.77 1.42 2.92 3.19 2.92 1.34 0 2.27-.47 2.82-1.36h.08v1.22H21.5V16c0-1.07-1.47-1.92-2.68-2.54z"
        />
        <path
          fill="#FF9900"
          d="M12.92 18.28c-2.48.71-5.11.45-6.93-.54-.25-.13-.37-.08-.34.19.1 1 .52 1.72 1.49 2.14 1.83.78 4.79.66 7.42-.51.27-.12.3-.39 0-.49-.47-.16-1.07-.46-1.64-.79z"
        />
      </g>
    ),
  },
  Figma: {
    name: "Figma",
    viewBox: "0 0 24 24",
    path: (
      <g>
        <path fill="#F24E1E" d="M12 2v6H6a3 3 0 1 1 0-6h6z" />
        <path fill="#A259FF" d="M12 8v6H6a3 3 0 1 1 0-6h6z" />
        <path fill="#1ABCFE" d="M12 14v6H6a3 3 0 1 1 0-6h6z" />
        <path fill="#0ACF83" d="M12 14V8h3a3 3 0 1 1 0 6h-3z" />
        <path fill="#FF7262" d="M12 8V2h3a3 3 0 1 1 0 6h-3z" />
      </g>
    ),
  },
};

export function TechIcon({
  name,
  className = "",
  size = 24,
}: {
  name: string;
  className?: string;
  size?: number;
}) {
  // Check if we have a custom brand icon
  if (name in BRAND_ICONS) {
    const icon = BRAND_ICONS[name];
    return (
      <svg
        viewBox={icon.viewBox || "0 0 24 24"}
        width={size}
        height={size}
        className={className}
        style={{ color: "unset" }} // Unset color to allow SVG paths to define their own colors
      >
        {icon.path}
      </svg>
    );
  }

  // Fallback to simpler implementation or search Lucide if needed
  return <LucideIcons.Code2 size={size} className={className} />;
}
